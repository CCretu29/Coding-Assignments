<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receive ticket page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/ticket_receive.css">
</head>

<body>

    <nav class="navbar">
        <img src="rock_pics/logo.png" alt="Logo">
        <div class="nav-links">
            <div class="dropdown" id="user-dropdown">
                <i class="fa-solid fa-user" id="user-icon-not-logged"></i>
                <i class="fa-solid fa-user-check" id="user-icon-logged"></i>
                <div class="dropdown-content">
                    <a href="#" id="logout-button">Log out</a>
                </div>
            </div>
        </div>
    </nav>


    <div class="image-container">
        <img src="rock_pics/red_pic.jpg" alt="Background Image" class="background-image">
        <div class="text-overlay">
            <div class="text-line">AC/DC tickets</div>
            <div class="texts-line">
                Hard rock/metal
            </div>
        </div>
    </div>

    <div class="text">
        <h1>Your ticket is here!</h1>
        <h2>Enjoy the best music and the greatest hits.</h2>
    </div>

    <div class="ticket">



        <div class="header">
            <h1>AC/DC - POWER UP tour 2024</h1>
            <p class="date"></p>
        </div>

        <div class="main">
            <div class="img-container">
                <img src="rock_pics/code.jpg" alt="Concert Image">
            </div>

            <div class="info">
                <p class="stadium"></p>
                <p class="location"></p>
                <p><strong>Seat:</strong> Section A, Row 5, Seat 12</p>
                <p><strong>Ticket type:</strong> Standard ticket</p>
                <p><strong>Order:</strong> #12345</p>
                <p><strong>Price:</strong> 300</p>
            </div>

        </div>

        <div class="present">
            <p>Present this ticket at the entrance</p>
        </div>

    </div>

    <div class="button-container">
        <button id="goToTicketsPage" class="btn">Go to Tickets Page</button>
    </div>

    <footer class="footer">
        <div class="footer-icons">
            <i class="fab fa-facebook"></i>
            <i class="fab fa-twitter"></i>
            <i class="fab fa-instagram"></i>
            <i class="fab fa-tiktok"></i>
            <i class="fab fa-youtube"></i>
            <i class="fa-solid fa-envelope"></i>
        </div>
        <div class="footer-text">
            HELP / CREDITS / PRIVACY POLICY / TERMS OF USE / AC/DC
        </div>
    </footer>



    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const userIconNotLogged = document.getElementById('user-icon-not-logged');
            const userDropdown = document.getElementById('user-dropdown');
            const token = localStorage.getItem('token');

            if (token === 'Login successful') {
                userIconNotLogged.style.display = 'none';
                userDropdown.style.display = 'inline-block';
            } else {
                userIconNotLogged.style.display = 'inline-block';
                userDropdown.style.display = 'none';
            }

            const logoutButton = document.getElementById('logout-button');
            logoutButton.addEventListener('click', function () {
                localStorage.clear();
                window.location.href = 'ticket.html';
            });

            const selectedDate = localStorage.getItem('selectedDate');
            const city = localStorage.getItem('city');
            const selectedLocation = localStorage.getItem('selectedLocation');
            const stadium = localStorage.getItem('stadium');

            // Assuming you have elements with classes.date,.city,.location, and.stadium
            const dateElement = document.querySelector('.date');
            const cityElement = document.querySelector('.city');
            const locationElement = document.querySelector('.location');
            const stadiumElement = document.querySelector('.stadium');

            // Updating the content of these elements with the values from localStorage
            if (dateElement) dateElement.innerHTML = `<strong>Wed - ${selectedDate} - 19:00</strong>`;
            if (cityElement) cityElement.innerHTML = `<strong>City:</strong> ${city}`;
            if (locationElement) locationElement.innerHTML = `<strong>Location:</strong> ${selectedLocation}`;
            if (stadiumElement) stadiumElement.innerHTML = `<strong>Stadium:</strong> ${stadium}`;


            const goToTicketsPageButton = document.getElementById('goToTicketsPage');
            goToTicketsPageButton.addEventListener('click', function () {
                window.location.href = 'ticket.html';
            });
        });
    </script>
</body>

</html>